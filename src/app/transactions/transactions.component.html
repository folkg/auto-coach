<div class="header primaryColorBG">
  <h1>Suggested Transactions</h1>
</div>
<div class="content">
  <div class="instructions">
    <h3>
      Select any transactions you would like to process and click the Submit
      button at the bottom of the page. These transactions will be submitted to
      Yahoo for immediate (and permanent) processing.
    </h3>
    <p>
      Note: The number in square brackets next to each player is their projected
      value based on your league's settings.
    </p>
  </div>
  <ng-container *ngIf="teams.length !== 0; else showLoadingTeams">
    <ng-container
      *ngIf="flatTransactions !== undefined; else showLoadingTransactions"
    >
      <app-team
        class="card-container"
        *ngFor="let team of teams | sortTeamsByTransactions : flatTransactions"
        [team]="team"
        [allTransactions]="flatTransactions"
      ></app-team>
    </ng-container>
    <ng-template #showLoadingTransactions>
      <mat-card class="card">
        <mat-card-header>
          <mat-card-title>Loading Transactions...</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p>Please wait</p>
        </mat-card-content>
      </mat-card>
    </ng-template>
  </ng-container>
  <ng-template #showLoadingTeams>
    <mat-card class="card">
      <mat-card-header>
        <mat-card-title>Loading Teams...</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>Please wait</p>
      </mat-card-content>
    </mat-card>
  </ng-template>
  <button
    mat-raised-button
    color="accent"
    class="button"
    [disabled]="!numSelectedTransactions"
    (click)="submitTransactions()"
  >
    Submit {{ numSelectedTransactions || "" }} Transaction{{
      numSelectedTransactions !== 1 ? "s" : ""
    }}
    to Yahoo
  </button>
</div>
